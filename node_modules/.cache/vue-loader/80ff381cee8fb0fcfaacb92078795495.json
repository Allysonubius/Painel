{"remainingRequest":"C:\\Users\\allys\\Documents\\GIT\\COVID-19-Timeline-Data-Visualizer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\allys\\Documents\\GIT\\COVID-19-Timeline-Data-Visualizer\\src\\components\\BarRaceSection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\allys\\Documents\\GIT\\COVID-19-Timeline-Data-Visualizer\\src\\components\\BarRaceSection.vue","mtime":1590605624605},{"path":"C:\\Users\\allys\\Documents\\GIT\\COVID-19-Timeline-Data-Visualizer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\COVID-19-Timeline-Data-Visualizer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\COVID-19-Timeline-Data-Visualizer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\COVID-19-Timeline-Data-Visualizer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXJSYWNlIGZyb20gIi4vQmFyUmFjZS52dWUiOwppbXBvcnQgRGF0YVN3aXRjaCBmcm9tICcuL0RhdGFTd2l0Y2gnOwppbXBvcnQgQ291bnRyeVN3aXRjaCBmcm9tICcuL0NvdW50cnlTd2l0Y2gnOwppbXBvcnQgeyBnZXREM0RhdGEgfSBmcm9tICIuLi9qcy9sb2NhdGlvblV0aWxzIgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkJhclJhY2VTZWN0aW9uIiwKICAgIGNvbXBvbmVudHM6ewogICAgICAgIEJhclJhY2UsCiAgICAgICAgRGF0YVN3aXRjaCwKICAgICAgICBDb3VudHJ5U3dpdGNoCiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICB0YWJsZURhdGE6IE9iamVjdCwKICAgICAgICBpc1VrOiBCb29sZWFuCiAgICB9LAogICAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJlbmRlckNvbXBvbmVudDp0cnVlLAogICAgICAgICAgICB0YWI6MCwKICAgICAgICAgICAgZGF0YVR5cGU6ICJjb25maXJtZWQiLAogICAgICAgICAgICBnbG9iYWw6IG51bGwsCiAgICAgICAgICAgIGNvdW50cnk6IG51bGwsCiAgICAgICAgICAgIGN1cnJlbnREYXRlOiBudWxsCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGNoYW5nZVRhYih0YWIpewogICAgICAgICAgICB0aGlzLnRhYiA9IHRhYjsKICAgICAgICAgICAgdGhpcy5mb3JjZVJlcmVuZGVyKCkKICAgICAgICB9LAogICAgICAgIGNoYW5nZURhdGFUeXBlKHR5cGUpewogICAgICAgICAgICB0aGlzLmRhdGFUeXBlID0gdHlwZTsKICAgICAgICAgICAgdGhpcy5nbG9iYWwgPSBnZXREM0RhdGEodGhpcy50YWJsZURhdGEuZ2xvYmFsLCB0eXBlKTsKICAgICAgICAgICAgaWYodGhpcy50YWJsZURhdGEuY291bnRyeSkKICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeSA9IGdldEQzRGF0YSh0aGlzLnRhYmxlRGF0YS5jb3VudHJ5LCB0aGlzLmlzVWs/Im51bWJlciI6dHlwZSk7CiAgICAgICAgICAgIHRoaXMuZm9yY2VSZXJlbmRlcigpCiAgICAgICAgfSwKICAgICAgICBmb3JjZVJlcmVuZGVyKCkgewogICAgICAgICAgICB0aGlzLnJlbmRlckNvbXBvbmVudCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNvbXBvbmVudCA9IHRydWU7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuY2hhbmdlRGF0YVR5cGUodGhpcy5kYXRhVHlwZSkKICAgIH0KfQo="},{"version":3,"sources":["BarRaceSection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BarRaceSection.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"mBlock\" v-if=\"renderComponent\">\r\n        <div class=\"switch-header\">\r\n            <DataSwitch :data-type=\"dataType\" @typeChange=\"changeDataType($event)\" :disabled=\"tab === 1 && isUk\"></DataSwitch>\r\n            <CountrySwitch v-if=\"country\" :tab=\"tab\"  @changeTab=\"changeTab($event)\"></CountrySwitch>\r\n        </div>\r\n\r\n        <BarRace v-if=\"global && tab===0\" :raceData=\"global\" :title=\"$t('barRace.globalTitle')\" :is-rate=\"dataType.includes('Rate')\" :color=\"$t('barRaceColor.'+dataType)\"\r\n                 :subtitle=\"$t('barRace.unit')\" source=\"Source: Johns Hopkins University\" :change-label-position=\"true\" id=\"2\"\r\n                 :main-date=\"currentDate\" @dateChange=\"currentDate=$event\"></BarRace>\r\n        <BarRace v-if=\"country && country.length>0 && tab===1\" :raceData=\"country\" :title=\"$t('barRace.localTitle')\" :is-rate=\"dataType.includes('Rate')\"  :color=\"$t('barRaceColor.'+dataType)\"\r\n                 :subtitle=\"$t('barRace.unit')\" :source=\"isUk?'Source: GOV.UK':'Source: Johns Hopkins University'\" :change-label-position=\"!isUk\" id=\"1\"\r\n                 :main-date=\"currentDate\" @dateChange=\"currentDate=$event\"></BarRace>\r\n        <div v-else v-show=\"tab===1\" style=\"padding: 30px;text-align: center;\">{{$t('noData')}}</div>\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    import BarRace from \"./BarRace.vue\";\r\n    import DataSwitch from './DataSwitch';\r\n    import CountrySwitch from './CountrySwitch';\r\n    import { getD3Data } from \"../js/locationUtils\"\r\n\r\n    export default {\r\n        name: \"BarRaceSection\",\r\n        components:{\r\n            BarRace,\r\n            DataSwitch,\r\n            CountrySwitch\r\n        },\r\n        props: {\r\n            tableData: Object,\r\n            isUk: Boolean\r\n        },\r\n        data: function () {\r\n            return {\r\n                renderComponent:true,\r\n                tab:0,\r\n                dataType: \"confirmed\",\r\n                global: null,\r\n                country: null,\r\n                currentDate: null\r\n            }\r\n        },\r\n        methods:{\r\n            changeTab(tab){\r\n                this.tab = tab;\r\n                this.forceRerender()\r\n            },\r\n            changeDataType(type){\r\n                this.dataType = type;\r\n                this.global = getD3Data(this.tableData.global, type);\r\n                if(this.tableData.country)\r\n                    this.country = getD3Data(this.tableData.country, this.isUk?\"number\":type);\r\n                this.forceRerender()\r\n            },\r\n            forceRerender() {\r\n                this.renderComponent = false;\r\n                this.$nextTick(() => {\r\n                    this.renderComponent = true;\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n            this.changeDataType(this.dataType)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}