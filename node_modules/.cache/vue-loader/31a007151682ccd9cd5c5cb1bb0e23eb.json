{"remainingRequest":"C:\\Users\\allys\\Documents\\GIT\\Painel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\allys\\Documents\\GIT\\Painel\\src\\components\\PieSection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\allys\\Documents\\GIT\\Painel\\src\\components\\PieSection.vue","mtime":1590605624632},{"path":"C:\\Users\\allys\\Documents\\GIT\\Painel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\Painel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\Painel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\Painel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVBcGV4Q2hhcnRzIGZyb20gInZ1ZS1hcGV4Y2hhcnRzIjsKaW1wb3J0IFNsaWRlQ29udHJvbGxlciBmcm9tICIuL1NsaWRlQ29udHJvbGxlciI7CmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiUGllU2VjdGlvbiIsCiAgICBwcm9wczogWydhbGxIaXN0b3J5RGF0YScsICdtYWluRGF0ZSddLAogICAgY29tcG9uZW50czp7CiAgICAgICAgVnVlQXBleENoYXJ0cywKICAgICAgICBTbGlkZUNvbnRyb2xsZXIKICAgIH0sCiAgICBkYXRhOiBmdW5jdGlvbigpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRhdGU6IG51bGwsCiAgICAgICAgICAgIGN1cnJlbnREYXRhOiBudWxsLAogICAgICAgICAgICBzdGFydERhdGU6IG51bGwsCiAgICAgICAgICAgIGVuZERhdGU6IG51bGwsCiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgbWFpbkRhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYodGhpcy5tYWluRGF0ZSkgewogICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEYXRlKHRoaXMubWFpbkRhdGUpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIGNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpOwogICAgICAgIHRoaXMuc3RhcnREYXRlID0gbW9tZW50KHRoaXMuYWxsSGlzdG9yeURhdGFbMF0uZGF0ZSkuZm9ybWF0KHdpbmRvdy5kYXRlRm9ybWF0KTsKICAgICAgICB0aGlzLmVuZERhdGUgPSBtb21lbnQodGhpcy5hbGxIaXN0b3J5RGF0YVt0aGlzLmFsbEhpc3RvcnlEYXRhLmxlbmd0aC0xXS5kYXRlKS5mb3JtYXQod2luZG93LmRhdGVGb3JtYXQpOwogICAgICAgIHRoaXMuY3VycmVudERhdGEgPSB0aGlzLmFsbEhpc3RvcnlEYXRhW3RoaXMuYWxsSGlzdG9yeURhdGEubGVuZ3RoLTFdOwogICAgICAgIHRoaXMuZGF0ZSA9IHRoaXMuZW5kRGF0ZTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIG9wdGlvbnM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGxhYmVsczogdGhpcy5jdXJyZW50RGF0YS5uZWdhdGl2ZT8KICAgICAgICAgICAgICAgICAgICBbdGhpcy4kdCgnbmVnYXRpdmUnKSwgdGhpcy4kdCgndG90YWxDdXJlZCcpLCB0aGlzLiR0KCdhY3RpdmUnKSwgdGhpcy4kdCgndG90YWxEZWF0aHMnKV06CiAgICAgICAgICAgICAgICAgICAgW3RoaXMuJHQoJ2FjdGl2ZScpLCB0aGlzLiR0KCd0b3RhbEN1cmVkJyksIHRoaXMuJHQoJ3RvdGFsRGVhdGhzJyldLAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbGV0IGQgPSB0aGlzLmN1cnJlbnREYXRhOwogICAgICAgICAgICByZXR1cm4gZC5uZWdhdGl2ZT8KICAgICAgICAgICAgICAgIFtkLm5lZ2F0aXZlLCBkLmN1cmVkLCBkLmNvbmZpcm1lZCAtIGQuZGVhdGggLSBkLmN1cmVkLCBkLmRlYXRoXToKICAgICAgICAgICAgICAgIFtkLmNvbmZpcm1lZCAtIGQuZGVhdGggLSBkLmN1cmVkLCBkLmN1cmVkLCBkLmRlYXRoXTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgY2hhbmdlRGF0ZTogZnVuY3Rpb24oZGF0ZSl7CiAgICAgICAgICAgIGxldCBpZHggPSB0aGlzLmFsbEhpc3RvcnlEYXRhLmZpbmRJbmRleChlbGU9PiBtb21lbnQoZWxlLmRhdGUpLmZvcm1hdCh3aW5kb3cuZGF0ZUZvcm1hdCkgPT0gZGF0ZSk7CiAgICAgICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7CiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGF0ZUlkeChpZHgpCiAgICAgICAgfSwKICAgICAgICBjaGFuZ2VEYXRlSWR4KGUpewogICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRhID0gdGhpcy5hbGxIaXN0b3J5RGF0YVtlPjA/ZS0xOjBdOwogICAgICAgICAgICB0aGlzLmRhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0YS5kYXRlKS5mb3JtYXQod2luZG93LmRhdGVGb3JtYXQpOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["PieSection.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PieSection.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"mBlock\" v-if=\"currentData\">\r\n        <VueApexCharts width=\"100%\" type=\"donut\" :options=\"options\" :series=\"series\"></VueApexCharts>\r\n        <SlideController v-if=\"date\" :start-date=\"startDate\" :end-date=\"endDate\" :doNotFormat=\"true\" :hidePlayButton=\"true\" :current-date=\"date\" @changeIndex=\"changeDateIdx\" @playPause=\"playing = $event\" :enableEvenIfPaused=\"true\" :playing=\"false\"></SlideController>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import VueApexCharts from \"vue-apexcharts\";\r\n    import SlideController from \"./SlideController\";\r\n    const moment = require('moment');\r\n    export default {\r\n        name: \"PieSection\",\r\n        props: ['allHistoryData', 'mainDate'],\r\n        components:{\r\n            VueApexCharts,\r\n            SlideController\r\n        },\r\n        data: function(){\r\n            return {\r\n                date: null,\r\n                currentData: null,\r\n                startDate: null,\r\n                endDate: null,\r\n            }\r\n        },\r\n        watch: {\r\n            mainDate: function () {\r\n                if(this.mainDate) {\r\n                    this.changeDate(this.mainDate)\r\n                }\r\n            }\r\n        },\r\n        mounted(){\r\n            const moment = require('moment');\r\n            this.startDate = moment(this.allHistoryData[0].date).format(window.dateFormat);\r\n            this.endDate = moment(this.allHistoryData[this.allHistoryData.length-1].date).format(window.dateFormat);\r\n            this.currentData = this.allHistoryData[this.allHistoryData.length-1];\r\n            this.date = this.endDate;\r\n        },\r\n        computed: {\r\n            options: function () {\r\n                return {\r\n                    labels: this.currentData.negative?\r\n                        [this.$t('negative'), this.$t('totalCured'), this.$t('active'), this.$t('totalDeaths')]:\r\n                        [this.$t('active'), this.$t('totalCured'), this.$t('totalDeaths')],\r\n                }\r\n            },\r\n            series: function () {\r\n                let d = this.currentData;\r\n                return d.negative?\r\n                    [d.negative, d.cured, d.confirmed - d.death - d.cured, d.death]:\r\n                    [d.confirmed - d.death - d.cured, d.cured, d.death];\r\n            }\r\n        },\r\n        methods:{\r\n            changeDate: function(date){\r\n                let idx = this.allHistoryData.findIndex(ele=> moment(ele.date).format(window.dateFormat) == date);\r\n                this.date = date;\r\n                this.changeDateIdx(idx)\r\n            },\r\n            changeDateIdx(e){\r\n                this.currentData = this.allHistoryData[e>0?e-1:0];\r\n                this.date = moment(this.currentData.date).format(window.dateFormat);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}