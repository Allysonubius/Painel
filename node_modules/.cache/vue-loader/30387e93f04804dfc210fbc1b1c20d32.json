{"remainingRequest":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\src\\components\\SlideController.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\src\\components\\SlideController.vue","mtime":1590605624642},{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVTbGlkZXIgZnJvbSAndnVlLXNsaWRlci1jb21wb25lbnQnCmltcG9ydCBQbGF5SWNvbiBmcm9tICdtZGktdnVlL1BsYXknCmltcG9ydCBQYXVzZUljb24gZnJvbSAnbWRpLXZ1ZS9QYXVzZScKaW1wb3J0ICd2dWUtc2xpZGVyLWNvbXBvbmVudC90aGVtZS9kZWZhdWx0LmNzcycKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJTbGlkZUNvbnRyb2xsZXIiLAogICAgcHJvcHM6IFsic3RhcnREYXRlIiwiZW5kRGF0ZSIsInBsYXlpbmciLCJjdXJyZW50RGF0ZSIsImVuYWJsZUV2ZW5JZlBhdXNlZCIsImhpZGVQbGF5QnV0dG9uIiwiZGlzYWJsZUNsaWNrIiwibGF6eSJdLAogICAgZGF0YTogZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwbGF5UGF1c2U6dHJ1ZSwKICAgICAgICAgICAgZGF0ZURhdGE6W10sCiAgICAgICAgICAgIGlkeDowCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBWdWVTbGlkZXIsCiAgICAgICAgUGxheUljb24sCiAgICAgICAgUGF1c2VJY29uCiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBzdGFydERhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVEYXRlKCk7CiAgICAgICAgfSwKICAgICAgICBlbmREYXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlRGF0ZSgpOwogICAgICAgIH0sCiAgICAgICAgcGxheWluZzpmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgIHRoaXMucGxheVBhdXNlID0gdmFsOwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5jYWxjdWxhdGVEYXRlKCk7CiAgICAgICAgdGhpcy5pZHggPSB0aGlzLmRhdGVEYXRhLmZpbmRJbmRleChhPT5hPT09dGhpcy5jdXJyZW50RGF0ZSk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGNhbGN1bGF0ZURhdGU6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpOwogICAgICAgICAgICBjb25zdCBkYXRlRm9ybWF0ID0gd2luZG93LmRhdGVGb3JtYXQgKyAnIFlZWVknOwoKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zdGFydERhdGUsIHRoaXMuZW5kRGF0ZSwgdGhpcy5kYXRlRGF0YSwgdGhpcy5lbmFibGVFdmVuSWZQYXVzZWQpCgogICAgICAgICAgICB0aGlzLmRhdGVEYXRhPVtdOwogICAgICAgICAgICBsZXQgZG9Db250aW51ZSA9IHRydWU7CiAgICAgICAgICAgIGxldCBkYXRlTm93ID0gdGhpcy5zdGFydERhdGU7CiAgICAgICAgICAgIGxldCBjb3VudCA9IDA7CiAgICAgICAgICAgIHdoaWxlKGRvQ29udGludWUgJiYgY291bnQ8MTAwMDApewogICAgICAgICAgICAgICAgdGhpcy5kYXRlRGF0YS5wdXNoKGRhdGVOb3cpOwogICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRNb21lbnQgPSBtb21lbnQoZGF0ZU5vdysnIDIwMjAnLCBkYXRlRm9ybWF0KTsKICAgICAgICAgICAgICAgIGRhdGVOb3cgPSBjdXJyZW50TW9tZW50LmFkZCgxLCAnZGF5cycpLmZvcm1hdCh3aW5kb3cuZGF0ZUZvcm1hdCk7CiAgICAgICAgICAgICAgICBkb0NvbnRpbnVlID0gY3VycmVudE1vbWVudC5pc1NhbWVPckJlZm9yZShtb21lbnQodGhpcy5lbmREYXRlKycgMjAyMCcsIGRhdGVGb3JtYXQpKTsKICAgICAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uRGF0ZUNoYW5nZTogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGUpOwogICAgICAgICAgICB0aGlzLmlkeCA9IHRoaXMuZGF0ZURhdGEuZmluZEluZGV4KGE9PmE9PT1lKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlSW5kZXgnLCB0aGlzLmlkeCk7CiAgICAgICAgfSwKICAgICAgICBvbkRyYWdFbmQ6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2RyYWdFbmRlZCcsIHRoaXMuaWR4KTsKICAgICAgICAgICAgd2luZG93LmdhKCdzZW5kJywgJ2V2ZW50JywgInNsaWRlciIsICJkcmFnLWVuZCIsIHRoaXMuaWR4KTsKICAgICAgICB9LAogICAgICAgIG9uUGxheVBhdXNlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMucGxheVBhdXNlID0gIXRoaXMucGxheVBhdXNlOwogICAgICAgICAgICB0aGlzLiRlbWl0KCdwbGF5UGF1c2UnLCB0aGlzLnBsYXlQYXVzZSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["SlideController.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SlideController.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div style=\"display: flex; align-items: center;padding-top: 20px\">\r\n        <button type=\"button\" class=\"btn btn-secondary btn-lg circle\" @click=\"onPlayPause\" v-if=\"!hidePlayButton\">\r\n            <div style=\"margin-top: -2px;\"><PauseIcon v-if=\"playPause\"/><PlayIcon v-else/></div>\r\n        </button>\r\n        <div style=\"font-size: 30px;font-weight: bold;opacity: 0.6; min-width:100px;text-align: center;\" v-else>\r\n            {{currentDate}}\r\n        </div>\r\n        <div style=\"flex-grow: 1; margin-left: 20px\">\r\n            <VueSlider :value=\"currentDate\" @change=\"onDateChange\" @drag-end=\"onDragEnd\" :data=\"dateData\" :disabled=\"!enableEvenIfPaused && !playPause\" :lazy=\"lazy\" :clickable=\"!disableClick\"></VueSlider>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import VueSlider from 'vue-slider-component'\r\n    import PlayIcon from 'mdi-vue/Play'\r\n    import PauseIcon from 'mdi-vue/Pause'\r\n    import 'vue-slider-component/theme/default.css'\r\n\r\n    export default {\r\n        name: \"SlideController\",\r\n        props: [\"startDate\",\"endDate\",\"playing\",\"currentDate\",\"enableEvenIfPaused\",\"hidePlayButton\",\"disableClick\",\"lazy\"],\r\n        data: function(){\r\n            return {\r\n                playPause:true,\r\n                dateData:[],\r\n                idx:0\r\n            }\r\n        },\r\n        components: {\r\n            VueSlider,\r\n            PlayIcon,\r\n            PauseIcon\r\n        },\r\n        watch: {\r\n            startDate: function () {\r\n                this.calculateDate();\r\n            },\r\n            endDate: function () {\r\n                this.calculateDate();\r\n            },\r\n            playing:function (val) {\r\n                this.playPause = val;\r\n            }\r\n        },\r\n        mounted(){\r\n            this.calculateDate();\r\n            this.idx = this.dateData.findIndex(a=>a===this.currentDate);\r\n        },\r\n        methods: {\r\n            calculateDate: function(){\r\n                const moment = require('moment');\r\n                const dateFormat = window.dateFormat + ' YYYY';\r\n\r\n                // console.log(this.startDate, this.endDate, this.dateData, this.enableEvenIfPaused)\r\n\r\n                this.dateData=[];\r\n                let doContinue = true;\r\n                let dateNow = this.startDate;\r\n                let count = 0;\r\n                while(doContinue && count<10000){\r\n                    this.dateData.push(dateNow);\r\n                    let currentMoment = moment(dateNow+' 2020', dateFormat);\r\n                    dateNow = currentMoment.add(1, 'days').format(window.dateFormat);\r\n                    doContinue = currentMoment.isSameOrBefore(moment(this.endDate+' 2020', dateFormat));\r\n                    count++;\r\n                }\r\n            },\r\n            onDateChange: function (e) {\r\n                // console.log(e);\r\n                this.$emit('change', e);\r\n                this.idx = this.dateData.findIndex(a=>a===e);\r\n                this.$emit('changeIndex', this.idx);\r\n            },\r\n            onDragEnd: function(){\r\n                this.$emit('dragEnded', this.idx);\r\n                window.ga('send', 'event', \"slider\", \"drag-end\", this.idx);\r\n            },\r\n            onPlayPause: function () {\r\n                this.playPause = !this.playPause;\r\n                this.$emit('playPause', this.playPause)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}