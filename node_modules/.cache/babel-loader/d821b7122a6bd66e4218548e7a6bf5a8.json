{"remainingRequest":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\src\\components\\PieSection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\src\\components\\PieSection.vue","mtime":1590605624632},{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\allys\\Documents\\GIT\\PaineCovid19\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBWdWVBcGV4Q2hhcnRzIGZyb20gInZ1ZS1hcGV4Y2hhcnRzIjsKaW1wb3J0IFNsaWRlQ29udHJvbGxlciBmcm9tICIuL1NsaWRlQ29udHJvbGxlciI7Cgp2YXIgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBpZVNlY3Rpb24iLAogIHByb3BzOiBbJ2FsbEhpc3RvcnlEYXRhJywgJ21haW5EYXRlJ10sCiAgY29tcG9uZW50czogewogICAgVnVlQXBleENoYXJ0czogVnVlQXBleENoYXJ0cywKICAgIFNsaWRlQ29udHJvbGxlcjogU2xpZGVDb250cm9sbGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0ZTogbnVsbCwKICAgICAgY3VycmVudERhdGE6IG51bGwsCiAgICAgIHN0YXJ0RGF0ZTogbnVsbCwKICAgICAgZW5kRGF0ZTogbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBtYWluRGF0ZTogZnVuY3Rpb24gbWFpbkRhdGUoKSB7CiAgICAgIGlmICh0aGlzLm1haW5EYXRlKSB7CiAgICAgICAgdGhpcy5jaGFuZ2VEYXRlKHRoaXMubWFpbkRhdGUpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpOwoKICAgIHRoaXMuc3RhcnREYXRlID0gbW9tZW50KHRoaXMuYWxsSGlzdG9yeURhdGFbMF0uZGF0ZSkuZm9ybWF0KHdpbmRvdy5kYXRlRm9ybWF0KTsKICAgIHRoaXMuZW5kRGF0ZSA9IG1vbWVudCh0aGlzLmFsbEhpc3RvcnlEYXRhW3RoaXMuYWxsSGlzdG9yeURhdGEubGVuZ3RoIC0gMV0uZGF0ZSkuZm9ybWF0KHdpbmRvdy5kYXRlRm9ybWF0KTsKICAgIHRoaXMuY3VycmVudERhdGEgPSB0aGlzLmFsbEhpc3RvcnlEYXRhW3RoaXMuYWxsSGlzdG9yeURhdGEubGVuZ3RoIC0gMV07CiAgICB0aGlzLmRhdGUgPSB0aGlzLmVuZERhdGU7CiAgfSwKICBjb21wdXRlZDogewogICAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsYWJlbHM6IHRoaXMuY3VycmVudERhdGEubmVnYXRpdmUgPyBbdGhpcy4kdCgnbmVnYXRpdmUnKSwgdGhpcy4kdCgndG90YWxDdXJlZCcpLCB0aGlzLiR0KCdhY3RpdmUnKSwgdGhpcy4kdCgndG90YWxEZWF0aHMnKV0gOiBbdGhpcy4kdCgnYWN0aXZlJyksIHRoaXMuJHQoJ3RvdGFsQ3VyZWQnKSwgdGhpcy4kdCgndG90YWxEZWF0aHMnKV0KICAgICAgfTsKICAgIH0sCiAgICBzZXJpZXM6IGZ1bmN0aW9uIHNlcmllcygpIHsKICAgICAgdmFyIGQgPSB0aGlzLmN1cnJlbnREYXRhOwogICAgICByZXR1cm4gZC5uZWdhdGl2ZSA/IFtkLm5lZ2F0aXZlLCBkLmN1cmVkLCBkLmNvbmZpcm1lZCAtIGQuZGVhdGggLSBkLmN1cmVkLCBkLmRlYXRoXSA6IFtkLmNvbmZpcm1lZCAtIGQuZGVhdGggLSBkLmN1cmVkLCBkLmN1cmVkLCBkLmRlYXRoXTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZURhdGU6IGZ1bmN0aW9uIGNoYW5nZURhdGUoZGF0ZSkgewogICAgICB2YXIgaWR4ID0gdGhpcy5hbGxIaXN0b3J5RGF0YS5maW5kSW5kZXgoZnVuY3Rpb24gKGVsZSkgewogICAgICAgIHJldHVybiBtb21lbnQoZWxlLmRhdGUpLmZvcm1hdCh3aW5kb3cuZGF0ZUZvcm1hdCkgPT0gZGF0ZTsKICAgICAgfSk7CiAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7CiAgICAgIHRoaXMuY2hhbmdlRGF0ZUlkeChpZHgpOwogICAgfSwKICAgIGNoYW5nZURhdGVJZHg6IGZ1bmN0aW9uIGNoYW5nZURhdGVJZHgoZSkgewogICAgICB0aGlzLmN1cnJlbnREYXRhID0gdGhpcy5hbGxIaXN0b3J5RGF0YVtlID4gMCA/IGUgLSAxIDogMF07CiAgICAgIHRoaXMuZGF0ZSA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRhLmRhdGUpLmZvcm1hdCh3aW5kb3cuZGF0ZUZvcm1hdCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PieSection.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"mBlock\" v-if=\"currentData\">\r\n        <VueApexCharts width=\"100%\" type=\"donut\" :options=\"options\" :series=\"series\"></VueApexCharts>\r\n        <SlideController v-if=\"date\" :start-date=\"startDate\" :end-date=\"endDate\" :doNotFormat=\"true\" :hidePlayButton=\"true\" :current-date=\"date\" @changeIndex=\"changeDateIdx\" @playPause=\"playing = $event\" :enableEvenIfPaused=\"true\" :playing=\"false\"></SlideController>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import VueApexCharts from \"vue-apexcharts\";\r\n    import SlideController from \"./SlideController\";\r\n    const moment = require('moment');\r\n    export default {\r\n        name: \"PieSection\",\r\n        props: ['allHistoryData', 'mainDate'],\r\n        components:{\r\n            VueApexCharts,\r\n            SlideController\r\n        },\r\n        data: function(){\r\n            return {\r\n                date: null,\r\n                currentData: null,\r\n                startDate: null,\r\n                endDate: null,\r\n            }\r\n        },\r\n        watch: {\r\n            mainDate: function () {\r\n                if(this.mainDate) {\r\n                    this.changeDate(this.mainDate)\r\n                }\r\n            }\r\n        },\r\n        mounted(){\r\n            const moment = require('moment');\r\n            this.startDate = moment(this.allHistoryData[0].date).format(window.dateFormat);\r\n            this.endDate = moment(this.allHistoryData[this.allHistoryData.length-1].date).format(window.dateFormat);\r\n            this.currentData = this.allHistoryData[this.allHistoryData.length-1];\r\n            this.date = this.endDate;\r\n        },\r\n        computed: {\r\n            options: function () {\r\n                return {\r\n                    labels: this.currentData.negative?\r\n                        [this.$t('negative'), this.$t('totalCured'), this.$t('active'), this.$t('totalDeaths')]:\r\n                        [this.$t('active'), this.$t('totalCured'), this.$t('totalDeaths')],\r\n                }\r\n            },\r\n            series: function () {\r\n                let d = this.currentData;\r\n                return d.negative?\r\n                    [d.negative, d.cured, d.confirmed - d.death - d.cured, d.death]:\r\n                    [d.confirmed - d.death - d.cured, d.cured, d.death];\r\n            }\r\n        },\r\n        methods:{\r\n            changeDate: function(date){\r\n                let idx = this.allHistoryData.findIndex(ele=> moment(ele.date).format(window.dateFormat) == date);\r\n                this.date = date;\r\n                this.changeDateIdx(idx)\r\n            },\r\n            changeDateIdx(e){\r\n                this.currentData = this.allHistoryData[e>0?e-1:0];\r\n                this.date = moment(this.currentData.date).format(window.dateFormat);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}